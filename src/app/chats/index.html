<div class="container no-padding-xs">
  <section>
    <div id="messages" class="row">
      <div class="col-sm-4" ng-class="{'hidden-xs': ('chats.show'|isState)}">
        <div class="panel chat-row" ng-repeat="chat in chats | orderBy:'-latest.time'" ui-sref="chats.show({value:chat.pubkey})" ui-sref-active="active" ng-click="chat.unreadMsgs = 0" style="cursor:pointer">
          <div class="panel-body">
            <notification-icon count="chat.unreadMsgs">
              <identicon identity="chat.identity" width="35" ipfs="ipfs" show-distance="false"></identicon>
            </notification-icon>
            <span ng-bind="chat.identity.primaryName" class="mar-left15"></span>
            <small class="pull-right" ng-bind="chat.latest.time | date: 'yyyy-MM-dd HH:mm'"></small><br>
            <small class="pull-right">
              {{chat.latest.text|limitTo:35}}{{chat.latest.text.length > 35 ? '...':''}}
            </small>
          </div>
        </div>
      </div>
      <div class="col-sm-8" ng-class="{'hidden-xs': ('chats.list'|isState)}">
        <ui-view/>
      </div>
    </div>
  </section>
</div>
