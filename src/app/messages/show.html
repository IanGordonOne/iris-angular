<section>
  <div class="col-md-8 col-md-offset-2 msg-col">
    <message auth="authentication" msg-utils="msgUtils" ipfs="ipfs" show-recipient="true" msg="msg" page-info="info" ng-repeat="msg in [message]"></message>
    <div class="panel panel-info">
      <div class="panel-heading">
        Message origin verified by
        <span ng-show="message.verifiedByAttr">
          <identicon identity="message.verifiedByAttr" class="mar-right5" border="3" width="35"></identicon>
        </span>
        which is associated with
        <a ng-if="false" ng-bind="message.signerName||message.signerKeyID" ui-sref="identities.show({type: 'keyID', value: message.signerKeyID })"></a>
        <strong>
          <a ui-sref="identities.show({ type: 'keyID', value: message.signerKeyID })" class="id-link">
            <identicon ipfs="ipfs" identity="message.verifiedBy" class="mar-right5" border="3" width="35"></identicon>
            <span ng-bind="message.verifiedBy.primaryName"></span>
          </a>
        </strong>
      </div>
    </div>
    <p ng-if="message.data.context"><small>Context: {{message.data.context}}</small></p>
    <p><button class="btn btn-default" ng-click="collapseRawData = !collapseRawData">Show raw data</button></p>
    <pre uib-collapse="!collapseRawData" ng-bind="message.strData"></pre>
    <message ng-repeat="msg in message.repliesArr" auth="authentication" msg-utils="msgUtils" ipfs="ipfs" show-recipient="true" msg="msg" page-info="info"></message>
    <!-- <div class="mar-top15 mar-bot10"><button ng-click="chatModal.close()" class="btn btn-default">Close</button></div> -->
  </div>
</section>
