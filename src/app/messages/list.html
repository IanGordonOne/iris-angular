<div class="container">
  <section>
    <div ng-if="!authentication.user" class="jumbotron">
      <div class="align-center"><h1>Social networking freedom</h1></div>

      <div class="row">
        <div class="col-sm-4"><div class="align-center"><i class="hidden-xs fa fa-download fa-5x mar-bot20"></i><p><i class="hidden-sm hidden-md hidden-lg fa fa-download"></i> Everything is stored on users' devices &mdash; no corporate gatekeepers.</p></div></div>
        <div class="col-sm-4"><div class="align-center"><i class="hidden-xs fa fa-thumbs-up fa-5x mar-bot20"></i><p><i class="hidden-sm hidden-md hidden-lg fa fa-thumbs-up"></i> Filter all content using your web of trust.</p></div></div>
        <div class="col-sm-4"><div class="align-center"><i class="hidden-xs fa fa-check fa-5x mar-bot20"></i><p><i class="hidden-sm hidden-md hidden-lg fa fa-check"></i> Keep your contacts and trusted online identity up-to-date.</p></div></div>
      </div>

      <p class="align-center mar-top15" style="margin-bottom:0"><a ui-sref="about">Read more</a></p>
    </div>
    <div ng-if="!authentication.user" class="mar-top25-xs"></div>

    <div id="messages" class="row">
      <div class="col-md-4">
        <div class="hidden-xs hidden-sm" ng-include="'app/messages/filters.partial.html'"></div>
      </div>
      <div class="col-md-8">
        <div class="panel panel-default" ng-if="!authentication.user">
          <div class="panel-body">
            <form class="form-inline" ng-submit="createUser(newUserName)">
              <div class="form-group">
                <label for="newUserName" class="mar-right5">Get started</label>
                <input autofocus focus-on="newUser" style="min-width:200px" type="text" id="newUserName" class="form-control" ng-model="newUserName" placeholder="Your name is all we ask">
              </div>
              <i class="hidden-xs mar-right5"></i>
              <button type="submit" class="btn btn-primary" ng-disabled="!newUserName">Create user</button>
              <i class="mar-left15 hidden-xs"></i>
              <i class="mar-top5 visible-xs"></i>
              <div class="form-group">
                or <a ng-click="openLoginModal()" href="">Log in</a>
              </div>
            </form>
          </div>
        </div>

        <div ng-if="authentication.user" class="alert alert-info text-center">
          <p><b>Welcome to social networking freedom!</b></p>
          <p>Please ask your friends to upvote your account, so they and others will see your messages.</p>
          <p>If you have an existing trusted account, you can connect it to this account or ask your friends to verify the connection.</p>
          <p><button ng-click="copyToClipboard(authentication.user.url)" class="btn btn-primary mar-top10">Copy link to your profile</button></p>
          <p>Or show them your QR code:</p>
          <div class="mar-top20"><qrcode data="{{authentication.user.url}}" size="240"></qrcode></div>
        </div>

        <div ng-include="'app/messages/create.partial.html'"></div>
        <div class="visible-xs visible-sm" ng-include="'app/messages/filters.partial.html'"></div>
        <div infinite-scroll="find()" infinite-scroll-distance="1" infinite-scroll-disabled="true">
          <message ng-repeat="msg in msgs.list | filter:msgFilter | orderBy:'data.timestamp' : true as filteredMsgs" ipfs="ipfs" msg-data="msg" ng-click="openMessage($event, msg, 'lg')"></message>
        </div>
        <div class="alert alert-info text-center" ng-if="!filteredMsgs.length">
          No messages yet
        </div>
      </div>
    </div>
  </section>
</div>
